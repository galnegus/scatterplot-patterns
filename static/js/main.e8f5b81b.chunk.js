(this["webpackJsonpscatterplot-patterns"]=this["webpackJsonpscatterplot-patterns"]||[]).push([[0],{227:function(e,n,t){e.exports=t(429)},429:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),i=t(17),r=t.n(i),l=t(1),c=t(10),s=t.n(c),u=t(8),f=t(7),d=t(165),m=t(6),v=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.distance,a=void 0===t?1:t,o=n.target,i=void 0===o?[0,0]:o,r=n.rotation,l=void 0===r?0:r,c=n.isNdc,s=void 0===c||c,u=n.isFixed,f=void 0!==u&&u,v=n.isPan,p=void 0===v||v,h=n.panSpeed,b=void 0===h?1:h,g=n.isRotate,x=void 0===g||g,y=n.rotateSpeed,w=void 0===y?1:y,S=n.isZoom,E=void 0===S||S,j=n.zoomSpeed,C=void 0===j?1:j,O=n.onKeyDown,_=void 0===O?function(){}:O,P=n.onKeyUp,z=void 0===P?function(){}:P,k=n.onMouseDown,M=void 0===k?function(){}:k,I=n.onMouseUp,A=void 0===I?function(){}:I,L=n.onMouseMove,V=void 0===L?function(){}:L,R=n.onWheel,D=void 0===R?function(){}:R,T=Object(d.a)(i,a,l),F=!1,N=0,G=0,q=0,B=0,W=!1,Y=0,H=0,K=0,U=1,X=1,$=1,Q=!1,J=s?function(e){return e/U*2*$}:function(e){return e},Z=s?function(e){return e/X*2}:function(e){return-e},ee=s?function(e){return(e/U*2-1)*$}:function(e){return e},ne=s?function(e){return 1-e/X*2}:function(e){return e},te=function(){if(f)return!1;if(F=!1,p&&W&&!Q&&(T.pan([J(b*(N-q)),Z(b*(B-G))]),F=!0),E&&Y){var e=C*Math.exp(Y/X),n=ee(N),t=ne(G);T.scale(1/e,[n,t]),F=!0}if(x&&W&&Q){var a=U/2,o=X/2,i=q-a,r=o-B,l=N-a,c=o-G,s=m.b.angle([i,r],[l,c]),u=i*c-l*r;T.rotate(w*s*Math.sign(u)),F=!0}return Y=0,q=N,B=G,F},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.isFixed,t=void 0===n?null:n,a=e.isPan,o=void 0===a?null:a,i=e.isRotate,r=void 0===i?null:i,l=e.isZoom,c=void 0===l?null:l,s=e.panSpeed,u=void 0===s?null:s,d=e.rotateSpeed,m=void 0===d?null:d,v=e.zoomSpeed,h=void 0===v?null:v;f=null!==t?t:f,p=null!==o?o:p,x=null!==r?r:x,E=null!==c?c:E,b=+u>0?u:b,w=+m>0?m:w,C=+h>0?h:C},oe=function(){var n=e.getBoundingClientRect();H=n.top,K=n.left,U=n.width,X=n.height,$=U/X},ie=function(e){Q=!1,z(e)},re=function(e){Q=e.altKey,_(e)},le=function(e){W=!1,A(e)},ce=function(e){W=1===e.buttons,M(e)},se=function(e){N=e.clientX-K,G=e.clientY-H,V(e)},ue=function(e){e.preventDefault();var n=1===e.deltaMode?12:1;Y+=n*(e.deltaY||0),D(e)},fe=function(){T=void 0,window.removeEventListener("keydown",re),window.removeEventListener("keyup",ie),e.removeEventListener("mousedown",ce),window.removeEventListener("mouseup",le),window.removeEventListener("mousemove",se),e.removeEventListener("wheel",ue)};return window.addEventListener("keydown",re,{passive:!0}),window.addEventListener("keyup",ie,{passive:!0}),e.addEventListener("mousedown",ce,{passive:!0}),window.addEventListener("mouseup",le,{passive:!0}),window.addEventListener("mousemove",se,{passive:!0}),e.addEventListener("wheel",ue,{passive:!1}),oe(),T.config=ae,T.dispose=fe,T.refresh=oe,T.tick=te,T},p=t(176),h=t(166),b=t(115),g=t(167),x=t(88),y=t(168),w=t.n(y),S=t(175),E=t(59),j=t(171),C="precision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D texture;\n\nvarying vec2 uv;\n\nvoid main () {\n  gl_FragColor = texture2D(texture, uv);\n}\n",O="precision mediump float;\n#define GLSLIFY 1\n\nuniform mat4 projection;\nuniform mat4 model;\nuniform mat4 view;\n\nattribute vec2 position;\n\nvarying vec2 uv;\n\nvoid main () {\n  uv = position;\n  gl_Position = projection * view * model * vec4(1.0 - 2.0 * position, 0, 1);\n}\n",_="#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n#endif\n\nprecision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 color;\nvarying vec2 uv;\nuniform bool animateDepth;\n\nvoid main() {\n  float r = 0.0, delta = 0.0, alpha = 1.0;\n  vec2 cxy = 2.0 * gl_PointCoord - 1.0;\n  r = dot(cxy, cxy);\n\n  if (animateDepth) {\n    alpha = 1.0 - step(1.0, r);\n    if (alpha < 1.0) discard;\n    gl_FragColor = vec4(color.rgb, alpha);\n  } else {\n    #ifdef GL_OES_standard_derivatives\n      delta = fwidth(r);\n      alpha = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);\n    #endif\n\n    gl_FragColor = vec4(color.rgb, alpha * color.a);\n  }\n  //if (alpha < 0.33) discard;\n  //gl_FragColor = vec4(color.rgb, alpha);\n}\n",P='precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D colorTex;\nuniform float colorTexRes;\nuniform sampler2D stateTex;\nuniform float stateTexRes;\nuniform float pointSize;\nuniform float pointSizeExtra;\nuniform float numPoints;\nuniform float globalState;\nuniform float isColoredByCategory;\nuniform float isColoredByValue;\nuniform float maxColor;\nuniform float numColorStates;\nuniform float scaling;\nuniform mat4 projection;\nuniform mat4 model;\nuniform mat4 view;\n\nattribute float stateIndex;\n\nuniform sampler2D textureAtlas;\nuniform vec2 atlasSize;\n\nuniform sampler2D bboxTex;\nuniform float bboxTexRes;\n\n// variables to send to the fragment shader\nvarying vec4 color;\nvarying vec2 uv;\n\nfloat modI(float a, float b) {\n  float m = a - floor((a + 0.5) / b) * b;\n   return floor(m + 0.5);\n}\n\nvec4 getFromTexture(in sampler2D texture, in float textureRes, in float index) {\n  float eps = 0.5 / textureRes;\n  float rowIndex = floor((index + eps) / textureRes);\n  vec2 texIndex = vec2(\n    (index / textureRes) - rowIndex + eps,\n    rowIndex / textureRes + eps\n  );\n  return texture2D(texture, texIndex);\n}\n\nvec2 texAtlasIndex(in float index, in vec2 position) {\n  float maxLength = atlasSize.x * atlasSize.y;\n  float modIndex = modI(index, maxLength);\n\n  float yIndex = floor((modIndex + 0.5) / atlasSize.x);\n  float xIndex = modI(modIndex, atlasSize.x);\n\n  float yStep = 1.0 / atlasSize.y;\n  float xStep = 1.0 / atlasSize.x;\n\n  vec2 min = vec2(xIndex * xStep, yIndex * yStep);\n  vec2 max = vec2((xIndex + 1.0) * xStep, (yIndex + 1.0) * yStep);\n\n  return position * (max - min) + min;\n}\n\nvec4 findColor(in float category) {\n  // this should be generalizable\n  vec4 bbox = getFromTexture(bboxTex, bboxTexRes, category);\n\n  vec2 min = bbox.xy;\n  vec2 max = bbox.zw;\n  vec2 normalizedPosition = (uv - min) / (max - min);\n\n  return texture2D(textureAtlas, texAtlasIndex(category, normalizedPosition));\n}\n\nvoid main() {\n  // First get the state\n  vec4 state = getFromTexture(stateTex, stateTexRes, stateIndex);\n\n  uv = state.xy;\n\n  // Determine color index\n  float colorIndexCat = state.z * isColoredByCategory;\n  float colorIndexVal = floor(state.w * maxColor) * isColoredByValue;\n  float colorIndex = colorIndexCat + colorIndexVal;\n  // Multiply by the number of color states per color\n  // I.e., normal, active, hover, background, etc.\n  colorIndex *= numColorStates;\n  // Half a "pixel" or "texel" in texture coordinates\n  float eps = 0.5 / colorTexRes;\n  float colorLinearIndex = colorIndex + globalState;\n  // Need to add cEps here to avoid floating point issue that can lead to\n  // dramatic changes in which color is loaded as floor(3/2.9999) = 1 but\n  // floor(3/3.0001) = 0!\n  float colorRowIndex = floor((colorLinearIndex + eps) / colorTexRes);\n\n  vec2 colorTexIndex = vec2(\n    (colorLinearIndex / colorTexRes) - colorRowIndex + eps,\n    colorRowIndex / colorTexRes + eps\n  );\n\n  //color = texture2D(colorTex, colorTexIndex);\n  color = findColor(state.z);\n\n  gl_Position = projection * view * model * vec4(state.x, state.y, color.a * 0.99, 1.0); // depth gets clipped when z = 1.00, so * 0.99!\n\n  // The final scaling consists of linear scaling in [0, 1] and log scaling\n  // in [1, [\n  float finalScaling = min(1.0, scaling) + log2(max(1.0, scaling));\n\n  gl_PointSize = pointSize * finalScaling + pointSizeExtra;\n}\n',z=t(18),k=t(71),M=t(72),I=t(45),A=t(19),L="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\n\nuniform vec2 resolution;\nuniform float texAtlasIndex;\nuniform vec2 texAtlasSize;\nuniform float time;\n\nvarying vec2 posMin;\nvarying vec2 posMax;\n\nfloat modI(float a, float b) {\n  float m = a - floor((a + 0.5) / b) * b;\n  return floor(m + 0.5);\n}\n\nvoid main () {\n  float maxLength = texAtlasSize.x * texAtlasSize.y;\n  float modIndex = modI(texAtlasIndex, maxLength);\n\n  float yIndex = floor((modIndex + 0.5) / texAtlasSize.x);\n  float xIndex = modI(modIndex, texAtlasSize.x);\n\n  float yStep = 1.0 / float(texAtlasSize.y);\n  float xStep = 1.0 / float(texAtlasSize.x);\n\n  posMin = vec2(xIndex * xStep, yIndex * yStep);\n  posMax = vec2((xIndex + 1.0) * xStep, (yIndex + 1.0) * yStep);\n\n  vec2 texPos = (position + 1.0) * 0.5;\n  texPos = texPos * (posMax - posMin) + posMin;\n  texPos = texPos * 2.0 - 1.0; \n\n  gl_Position = vec4(texPos, 0, 1);\n}\n";var V={hsvColor:[.5,1,1],a:1,c1:.1,c2:.1,minValue:.5,cyclesPerSecond:1,wavesPerCycle:1,direction:1,invert:0,hueVariation:.05,hueVariationPeriod:2};var R,D={hsvColor:[.8,1,1],gamma1:2,gamma2:2,maxValue:1,minValue:.5,cyclesPerSecond:1,nSpokes:2,direction:1,invert:0,hueVariation:.05,hueVariationPeriod:2};var T=0,F=1,N=2,G=(R={},Object(A.a)(R,F,V),Object(A.a)(R,N,D),R),q=function(){function e(n){var t;if(Object(k.a)(this,e),Object.defineProperty(this,B,{writable:!0,value:void 0}),Object.defineProperty(this,W,{writable:!0,value:void 0}),Object.defineProperty(this,Y,{writable:!0,value:void 0}),Object.defineProperty(this,H,{writable:!0,value:void 0}),Object.defineProperty(this,K,{writable:!0,value:void 0}),Object.defineProperty(this,U,{writable:!0,value:void 0}),!n)throw new Error("PatternManager must have reference to regl object.");this.fbo=n.framebuffer({width:1e3,height:500}),this.patternDraws=(t={},Object(A.a)(t,T,function(e,n){var t=e({frag:"precision mediump float;\n#define GLSLIFY 1\n\nvec2 normalizeFragCoords(in vec2 resolution, in vec2 posMin, in vec2 posMax) {\n  return (gl_FragCoord.xy / (resolution) - posMin) / (posMax - posMin); \n}\n\n//  Function from I\xf1igo Quiles\n//  https://www.shadertoy.com/view/MsS3Wc\nvec3 hsv2rgb_smooth_1604150559( in vec3 c ) {\n  vec3 rgb = clamp( abs(mod(c.x*6.0+vec3(0.0,4.0,2.0),6.0)-3.0)-1.0, 0.0, 1.0 );\n  rgb = rgb*rgb*(3.0-2.0*rgb); // cubic smoothing \n  return c.z * mix( vec3(1.0), rgb, c.y);\n}\n\nuniform vec2 resolution;\nuniform vec3 hsvColor;\nuniform bool useColors;\n\nvarying vec2 posMin;\nvarying vec2 posMax;\n\nvoid main () {\n  vec2 normalizedFragCoord = normalizeFragCoords(resolution, posMin, posMax);\n\n  gl_FragColor = vec4(hsv2rgb_smooth_1604150559(vec3(hsvColor.x, hsvColor.y * float(useColors), hsvColor.z)), 1);\n}\n",vert:L,attributes:{position:e.buffer([[-1,-1],[1,-1],[-1,1],[1,-1],[-1,1],[1,1]])},uniforms:{resolution:e.prop("resolution"),texAtlasIndex:e.prop("texAtlasIndex"),texAtlasSize:e.prop("texAtlasSize"),time:e.prop("time"),hsvColor:e.prop("hsvColor"),useColors:e.prop("useColors")},count:6,framebuffer:n});return function(e,n,a,o,i,r){var l=r.hsvColor;t({resolution:[e.width,e.height],texAtlasSize:n,texAtlasIndex:a,time:.5*o%1,useColors:i,hsvColor:l})}}(n,this.fbo)),Object(A.a)(t,F,function(e,n){var t=e({frag:"precision mediump float;\n#define GLSLIFY 1\n\nfloat when_gt_529295689(float x, float y) {\n  return max(sign(x - y), 0.0);\n}\n\nvec2 when_gt_529295689(vec2 x, vec2 y) {\n  return max(sign(x - y), 0.0);\n}\n\nvec3 when_gt_529295689(vec3 x, vec3 y) {\n  return max(sign(x - y), 0.0);\n}\n\nvec4 when_gt_529295689(vec4 x, vec4 y) {\n  return max(sign(x - y), 0.0);\n}\n\nfloat when_le_1062606552(float x, float y) {\n  return 1.0 - when_gt_529295689(x, y);\n}\n\nvec2 when_le_1062606552(vec2 x, vec2 y) {\n  return 1.0 - when_gt_529295689(x, y);\n}\n\nvec3 when_le_1062606552(vec3 x, vec3 y) {\n  return 1.0 - when_gt_529295689(x, y);\n}\n\nvec4 when_le_1062606552(vec4 x, vec4 y) {\n  return 1.0 - when_gt_529295689(x, y);\n}\n\nfloat when_eq_2281831123(float x, float y) {\n  return 1.0 - abs(sign(x - y));\n}\n\nvec2 when_eq_2281831123(vec2 x, vec2 y) {\n  return 1.0 - abs(sign(x - y));\n}\n\nvec3 when_eq_2281831123(vec3 x, vec3 y) {\n  return 1.0 - abs(sign(x - y));\n}\n\nvec4 when_eq_2281831123(vec4 x, vec4 y) {\n  return 1.0 - abs(sign(x - y));\n}\n\n//  Function from I\xf1igo Quiles\n//  https://www.shadertoy.com/view/MsS3Wc\nvec3 hsv2rgb_smooth_1540259130( in vec3 c ) {\n  vec3 rgb = clamp( abs(mod(c.x*6.0+vec3(0.0,4.0,2.0),6.0)-3.0)-1.0, 0.0, 1.0 );\n  rgb = rgb*rgb*(3.0-2.0*rgb); // cubic smoothing \n  return c.z * mix( vec3(1.0), rgb, c.y);\n}\n\nvec2 normalizeFragCoords(in vec2 resolution, in vec2 posMin, in vec2 posMax) {\n  return (gl_FragCoord.xy / (resolution) - posMin) / (posMax - posMin); \n}\n\nfloat hueWave(in float hue, in float time, in float period, in float variation) {\n  // https://stackoverflow.com/a/22400799\n  float amplitude = 1.0;\n  float halfPeriod = period / 2.0;\n  float triangleWave = (amplitude / halfPeriod) * (halfPeriod - abs(mod(time, period) - halfPeriod));\n\n  return mod(hue + (triangleWave * 2.0 - 1.0) * variation, 1.0);\n}\n\nuniform vec3 hsvColor;\nuniform float hueVariation;\nuniform float hueVariationPeriod;\nuniform vec2 resolution;\nuniform float time;\nuniform bool useColors;\n\nuniform float cyclesPerSecond;\nuniform float wavesPerCycle;\nuniform float direction;\nuniform float invert;\nuniform vec3 animationMix;\n\nuniform float a;\nuniform float c1;\nuniform float c2;\nuniform float minValue;\n\nvarying vec2 posMin;\nvarying vec2 posMax;\n\nfloat gauss(in float diff) {\n  float coolDiff = diff / wavesPerCycle;\n  float c = c1 * when_gt_529295689(coolDiff, 0.0) + c2 * when_le_1062606552(coolDiff, 0.0);\n  return a * exp(-pow(coolDiff, 2.0)/(2.0 * c * c));\n}\n\nvoid main() {\n  vec2 normalizedFragCoord = normalizeFragCoords(resolution, posMin, posMax);\n\n  float dist = distance(normalizedFragCoord, vec2(0.5, 0.5)) * 2.0;\n\n  float scaledTime = direction * cyclesPerSecond * time;\n\n  float diff = dist - scaledTime;\n  diff = mod(diff, 1.0 / wavesPerCycle);\n\n  float newD = diff * wavesPerCycle - 0.5;\n  float leftTerm = floor(newD) / wavesPerCycle;\n  float rightTerm = ceil(newD) / wavesPerCycle;\n\n  float leftDiff = gauss(newD);\n  float rightDiff = gauss(newD);\n\n  float value = max(leftDiff, rightDiff);\n\n  value = when_eq_2281831123(invert, 1.0) * (value * -1.0 + 1.0) + when_eq_2281831123(invert, 0.0) * value; \n  value = value * (1.0 - minValue) + minValue;\n  \n  float hue = hueWave(hsvColor.x, time, hueVariationPeriod, hueVariation);\n  float animateSaturation = mix(1.0, value, animationMix[0]) * float(useColors);\n  float animateValue = mix(1.0, value, animationMix[1]);\n  float animateAlpha = mix(1.0, value, animationMix[2]);\n\n  gl_FragColor = vec4(hsv2rgb_smooth_1540259130(vec3(hue, animateSaturation * hsvColor.y, animateValue * hsvColor.z)), animateAlpha);\n}\n",vert:L,attributes:{position:e.buffer([[-1,-1],[1,-1],[-1,1],[1,-1],[-1,1],[1,1]])},uniforms:{resolution:e.prop("resolution"),texAtlasIndex:e.prop("texAtlasIndex"),texAtlasSize:e.prop("texAtlasSize"),time:e.prop("time"),animationMix:e.prop("animationMix"),useColors:e.prop("useColors"),hsvColor:e.prop("hsvColor"),a:e.prop("a"),c1:e.prop("c1"),c2:e.prop("c2"),minValue:e.prop("minValue"),cyclesPerSecond:e.prop("cyclesPerSecond"),wavesPerCycle:e.prop("wavesPerCycle"),direction:e.prop("direction"),invert:e.prop("invert"),hueVariation:e.prop("hueVariation"),hueVariationPeriod:e.prop("hueVariationPeriod")},count:6,framebuffer:n});return function(e,n,a,o,i,r,l){var c=Object(z.a)({},V,{},l),s=c.hsvColor,u=c.a,f=c.c1,d=c.c2,m=c.minValue,v=c.cyclesPerSecond,p=c.wavesPerCycle,h=c.direction,b=c.invert,g=c.hueVariation,x=c.hueVariationPeriod;t({resolution:[e.width,e.height],texAtlasSize:n,texAtlasIndex:a,time:o,animationMix:i,useColors:r,hsvColor:s,a:u,c1:f,c2:d,minValue:m,cyclesPerSecond:v,wavesPerCycle:p,direction:h,invert:b,hueVariation:g,hueVariationPeriod:x})}}(n,this.fbo)),Object(A.a)(t,N,function(e,n){var t=e({frag:"precision mediump float;\n#define GLSLIFY 1\n\nfloat when_gt_2281831123(float x, float y) {\n  return max(sign(x - y), 0.0);\n}\n\nvec2 when_gt_2281831123(vec2 x, vec2 y) {\n  return max(sign(x - y), 0.0);\n}\n\nvec3 when_gt_2281831123(vec3 x, vec3 y) {\n  return max(sign(x - y), 0.0);\n}\n\nvec4 when_gt_2281831123(vec4 x, vec4 y) {\n  return max(sign(x - y), 0.0);\n}\n\nfloat when_le_1062606552(float x, float y) {\n  return 1.0 - when_gt_2281831123(x, y);\n}\n\nvec2 when_le_1062606552(vec2 x, vec2 y) {\n  return 1.0 - when_gt_2281831123(x, y);\n}\n\nvec3 when_le_1062606552(vec3 x, vec3 y) {\n  return 1.0 - when_gt_2281831123(x, y);\n}\n\nvec4 when_le_1062606552(vec4 x, vec4 y) {\n  return 1.0 - when_gt_2281831123(x, y);\n}\n\nfloat when_eq_529295689(float x, float y) {\n  return 1.0 - abs(sign(x - y));\n}\n\nvec2 when_eq_529295689(vec2 x, vec2 y) {\n  return 1.0 - abs(sign(x - y));\n}\n\nvec3 when_eq_529295689(vec3 x, vec3 y) {\n  return 1.0 - abs(sign(x - y));\n}\n\nvec4 when_eq_529295689(vec4 x, vec4 y) {\n  return 1.0 - abs(sign(x - y));\n}\n\n//  Function from I\xf1igo Quiles\n//  https://www.shadertoy.com/view/MsS3Wc\nvec3 hsv2rgb_smooth_1540259130( in vec3 c ) {\n  vec3 rgb = clamp( abs(mod(c.x*6.0+vec3(0.0,4.0,2.0),6.0)-3.0)-1.0, 0.0, 1.0 );\n  rgb = rgb*rgb*(3.0-2.0*rgb); // cubic smoothing \n  return c.z * mix( vec3(1.0), rgb, c.y);\n}\n\nvec2 normalizeFragCoords(in vec2 resolution, in vec2 posMin, in vec2 posMax) {\n  return (gl_FragCoord.xy / (resolution) - posMin) / (posMax - posMin); \n}\n\nfloat hueWave(in float hue, in float time, in float period, in float variation) {\n  // https://stackoverflow.com/a/22400799\n  float amplitude = 1.0;\n  float halfPeriod = period / 2.0;\n  float triangleWave = (amplitude / halfPeriod) * (halfPeriod - abs(mod(time, period) - halfPeriod));\n\n  return mod(hue + (triangleWave * 2.0 - 1.0) * variation, 1.0);\n}\n\nuniform vec3 hsvColor;\nuniform float hueVariation;\nuniform float hueVariationPeriod;\nuniform vec2 resolution;\nuniform float time;\nuniform bool useColors;\n\nuniform float gamma1;\nuniform float gamma2;\nuniform float maxValue;\nuniform float minValue;\nuniform float cyclesPerSecond;\nuniform float nSpokes;\nuniform float direction;\nuniform float invert;\nuniform vec3 animationMix;\n\nvarying vec2 posMin;\nvarying vec2 posMax;\n\nconst float PI = 3.1415926535897932384626433832795;\nconst float TAU = 6.2831853071795864769252867665590;\n\nfloat coolAbs(in float x) {\n  return -abs(x - 1.0) + 1.0;\n} \n\nfloat angleDifference(in float a, in float b, out float gamma) {\n  float diff1 = mod((a - b), TAU / nSpokes);\n  float diff2 = mod((b - a), TAU / nSpokes);\n\n  float d1_less_equal_d2 = when_le_1062606552(diff1, diff2);\n  float d1_greater_than_d2 = when_gt_2281831123(diff1, diff2);\n\n  gamma = d1_less_equal_d2 * gamma2 + d1_greater_than_d2 * gamma1;\n  return d1_less_equal_d2 * diff1 + d1_greater_than_d2 * diff2;\n}\n\nvoid main() {\n  vec2 normalizedFragCoord = normalizeFragCoords(resolution, posMin, posMax);\n\n  float scaledTime = direction * time * cyclesPerSecond;\n\n  float timeAngle = scaledTime * TAU;\n\n  vec2 centerDist = normalizedFragCoord - vec2(0.5, 0.5);\n  float fragAngle = atan(centerDist.x, centerDist.y) + PI; // from [-pi, pi] to [0, 2pi]\n  float gamma;\n  float angleDist = angleDifference(fragAngle, timeAngle, gamma) * nSpokes / PI;\n\n  float value = pow(1.0 - angleDist, gamma); // gamma\n\n  value = when_eq_529295689(invert, 1.0) * (value * -1.0 + 1.0) + when_eq_529295689(invert, 0.0) * value; \n  value = value * (maxValue - minValue) + minValue;\n\n  float hue = hueWave(hsvColor.x, time, hueVariationPeriod, hueVariation);\n  float animateSaturation = mix(1.0, value, animationMix[0]) * float(useColors);\n  float animateValue = mix(1.0, value, animationMix[1]);\n  float animateAlpha = mix(1.0, value, animationMix[2]);\n\n  gl_FragColor = vec4(hsv2rgb_smooth_1540259130(vec3(hue, animateSaturation * hsvColor.y, animateValue * hsvColor.z)), animateAlpha);\n}\n",vert:L,attributes:{position:e.buffer([[-1,-1],[1,-1],[-1,1],[1,-1],[-1,1],[1,1]])},uniforms:{resolution:e.prop("resolution"),texAtlasIndex:e.prop("texAtlasIndex"),texAtlasSize:e.prop("texAtlasSize"),time:e.prop("time"),animationMix:e.prop("animationMix"),useColors:e.prop("useColors"),hsvColor:e.prop("hsvColor"),gamma1:e.prop("gamma1"),gamma2:e.prop("gamma2"),maxValue:e.prop("maxValue"),minValue:e.prop("minValue"),cyclesPerSecond:e.prop("cyclesPerSecond"),nSpokes:e.prop("nSpokes"),direction:e.prop("direction"),invert:e.prop("invert"),hueVariation:e.prop("hueVariation"),hueVariationPeriod:e.prop("hueVariationPeriod")},count:6,framebuffer:n});return function(e,n,a,o,i,r,l){var c=Object(z.a)({},D,{},l),s=c.hsvColor,u=c.gamma1,f=c.gamma2,d=c.maxValue,m=c.minValue,v=c.cyclesPerSecond,p=c.nSpokes,h=c.direction,b=c.invert,g=c.hueVariation,x=c.hueVariationPeriod;t({resolution:[e.width,e.height],texAtlasSize:n,texAtlasIndex:a,time:o,animationMix:i,useColors:r,hsvColor:s,gamma1:u,gamma2:f,maxValue:d,minValue:m,cyclesPerSecond:v,nSpokes:p,direction:h,invert:b,hueVariation:g,hueVariationPeriod:x})}}(n,this.fbo)),t),this.patterns={},this.regl=n,this.maxCategories=0,this.atlasSize=[0,0]}return Object(M.a)(e,[{key:"updateSize",value:function(){this.maxCategories=Math.max.apply(Math,Object(f.a)(Object.keys(this.patterns)))+1,this.atlasSize=[this.maxCategories,1]}},{key:"setAll",value:function(e){var n=this,t=new Set(Object.keys(this.patterns));e.forEach((function(e){t.delete(e.category.toString()),n.set(e.category,e)})),t.forEach((function(e){n.destroy(e)}))}},{key:"set",value:function(e,n){Object(E.a)(this.patterns,e)?this.patterns[e]=Object(z.a)({},this.patterns[e],{},n):this.patterns[e]=n,this.updateSize()}},{key:"destroy",value:function(e){delete this.patterns[e],this.updateSize()}},{key:"draw",value:function(e,n,t,a){for(var o=0;o<this.maxCategories;o+=1)Object(E.a)(this.patterns,o)&&(a?this.patternDraws[this.patterns[o].type](this.fbo,this.atlasSize,o,e,n,t,this.patterns[o]):this.patternDraws[T](this.fbo,this.atlasSize,o,e,t,this.patterns[o]))}},{key:"clear",value:function(){this.regl.clear({color:[0,0,0,0],depth:1,framebuffer:this.fbo})}},{key:"getTexture",value:function(){return this.fbo.color[0]}},{key:"getAtlasSize",value:function(){return Object(f.a)(this.atlasSize)}}]),e}(),B=Object(I.a)("patternDraws"),W=Object(I.a)("patterns"),Y=Object(I.a)("fbo"),H=Object(I.a)("regl"),K=Object(I.a)("maxCategories"),U=Object(I.a)("atlasSize"),X=Float32Array.BYTES_PER_ELEMENT,$=["OES_standard_derivatives","OES_texture_float"],Q=[0,0,0,1],J=[[.66,.66,.66,1],[0,.55,1,1],[1,1,1,1],Q],Z=[0,0],ee=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),ne=[0,.666666667,1,1],te=[1,1,1,.5],ae=t(169),oe=t.n(ae),ie=function(e,n){return e>n?e:n},re=function(e){return!!e&&$.reduce((function(n,t){return e.hasExtension(t)?n:(console.warn("WebGL: ".concat(t," extension not supported. Scatterplot might not render properly")),!1)}),!0)},le=function(e){var n=e.getContext("webgl"),t=[];return $.forEach((function(e){n.getExtension(e)?t.push(e):console.warn("WebGL: ".concat(e," extension not supported. Scatterplot might not render properly"))})),oe()({gl:n,extensions:t})},ce=function(e,n,t,a){return Math.sqrt(Math.pow(e-t,2)+Math.pow(n-a,2))},se=function(e){for(var n=1/0,t=-1/0,a=1/0,o=-1/0,i=0;i<e.length;i+=2)n=e[i]<n?e[i]:n,t=e[i]>t?e[i]:t,a=e[i+1]<a?e[i+1]:a,o=e[i+1]>o?e[i+1]:o;return[n,a,t,o]},ue=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,n,t,a){return"#".concat(n).concat(n).concat(t).concat(t).concat(a).concat(a)})).substring(1).match(/.{2}/g).map((function(e){return parseInt(e,16)/Math.pow(255,n)}))},fe=function(e){return e>=0&&e<=1},de=function(e){return Array.isArray(e)&&e.every(fe)},me=function(){for(var e,n,t,a,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=Object(l.a)(o,2),r=i[0],c=i[1],s=arguments.length>1?arguments[1]:void 0,u=!1,f=0,d=s.length-2;f<s.length;f+=2)e=s[f],n=s[f+1],t=s[d],n>c!==(a=s[d+1])>c&&r<(t-e)*(c-n)/(a-n)+e&&(u=!u),d=f;return u},ve=function(e){return Number.isInteger(e)&&e>=0&&e<=255},pe=function(e){return Array.isArray(e)&&e.every(ve)},he=function(e){return 3===e.length&&(de(e)||pe(e))},be=function(e){return 4===e.length&&(de(e)||pe(e))},ge=function(e,n){return e>n?e:n},xe=function(e,n){return e<n?e:n},ye=function(e){return e.map((function(n){return n/e.reduce(ie,-1/0)}))},we=function(e,n){return be(e)?n&&!de(e)?ye(e):e:he(e)?[].concat(Object(f.a)(n?ye(e):e),[Math.pow(255,!n)]):/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)?function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return[].concat(Object(f.a)(ue(e,n)),[Math.pow(255,!n)])}(e,n):(console.warn("Only HEX, RGB, and RGBA are handled by this function. Returning white instead."),n?[1,1,1,1]:[255,255,255,255])},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.regl,t=e.background,a=void 0===t?Q:t,o=e.backgroundImage,i=void 0===o?null:o,r=e.canvas,c=void 0===r?document.createElement("canvas"):r,s=e.colorBy,u=void 0===s?null:s,d=e.colors,y=void 0===d?J:d,z=e.lassoColor,k=void 0===z?ne:z,M=e.lassoMinDelay,I=void 0===M?10:M,A=e.lassoMinDist,L=void 0===A?3:A,V=e.showRecticle,R=void 0!==V&&V,D=e.recticleColor,F=void 0===D?te:D,N=e.pointSize,G=void 0===N?6:N,B=e.pointSizeSelected,W=void 0===B?2:B,Y=e.pointOutlineWidth,H=void 0===Y?2:Y,K=e.width,U=void 0===K?100:K,$=e.height,ae=void 0===$?100:$,oe=e.target,ie=void 0===oe?Z:oe,ue=e.distance,fe=void 0===ue?1:ue,de=e.rotation,ve=void 0===de?0:de,pe=e.view,ye=void 0===pe?ee:pe,Se=Object(h.a)(),Ee=new Float32Array(16),je=[0,0];re(n);var Ce,Oe,_e,Pe,ze,ke,Me,Ie,Ae,Le,Ve,Re,De,Te,Fe,Ne,Ge,qe=we(a,!0),Be=i,We=c,Ye=y,He=U,Ke=ae,Ue=G,Xe=W,$e=H,Qe=n||le(c),Je=!1,Ze=!1,en=[0,0],nn=0,tn=[],an=we(k,!0),on=+I,rn=+L,ln=[],cn=[],sn=1,un=R,fn=we(F,!0),dn=0,mn=0,vn=u,pn=!1,hn=!1,bn=1,gn=!1,xn=0,yn=[0,1,0],wn=!1,Sn=!0,En=!0,jn=new q(Qe);jn.set(0,{type:T,color:[.2,1,.5,1]});var Cn=function(){return je.slice()},On=function(e){return e/He*2-1},_n=function(e){return 1+e/Ke*-2},Pn=function(){return[On(je[0]),_n(je[1])]},zn=function(){var e=Pn(),n=Object(l.a)(e,2),t=[n[0],n[1],1,1],a=m.a.invert(Ee,m.a.multiply(Ee,ke,m.a.multiply(Ee,Ce.view,Me)));return m.c.transformMat4(t,t,a),t.slice(0,2)},kn=function(){var e,n=zn(),t=Object(l.a)(n,2),a=t[0],o=t[1],i=Ce.scaling,r=2*Ue*(xe(1,i)+Math.log2(ge(1,i)))*window.devicePixelRatio,c=r/He,s=r/Ke,u=Pe.range(a-c,o-s,a+c,o+s),f=r;return u.forEach((function(n){var t=Object(l.a)(Pe.points[n],2),i=t[0],r=t[1],c=ce(i,r,a,o);c<f&&(f=c,e=n)})),f<Ue/He*2?e:-1},Mn=function(){var e,n,t=Cn();_e?ce.apply(void 0,Object(f.a)(t).concat(Object(f.a)(_e)))>rn&&((e=ln).push.apply(e,Object(f.a)(Pn(t))),(n=cn).push.apply(n,Object(f.a)(zn(t))),_e=t,ln.length>2&&Oe.setPoints(ln)):(ln=Object(f.a)(Pn(t)),cn=Object(f.a)(zn(t)),_e=t)},In=Object(b.a)(Mn,on),An=function(e){var n,t=se(e),a=(n=Pe).range.apply(n,Object(f.a)(t)),o=[];return a.forEach((function(n){me(Pe.points[n],e)&&o.push(n)})),o},Ln=function(){tn.length&&(Se.publish("deselect"),tn=[])},Vn=function(e){tn=e,Re({usage:"dynamic",type:"float",data:new Float32Array(tn)}),Se.publish("select",{points:tn})},Rn=function(e){var n=We.getBoundingClientRect();return je[0]=e.clientX-n.left,je[1]=e.clientY-n.top,[].concat(je)},Dn=function(){var e=An(cn);Vn(e),ln=[],cn=[],_e=void 0,Oe.clear()},Tn=function(e){hn&&(Je=!0,en=Rn(e),(Ze=e.shiftKey)&&(Ce.config({isFixed:!0}),_e=void 0))},Fn=function(){hn&&(Je=!1,Ze&&(Ze=!1,Ce.config({isFixed:!1}),Dn()))},Nn=function(e){if(hn){var n=Rn(e);if(!(ce.apply(void 0,Object(f.a)(n).concat(Object(f.a)(en)))>=3)){var t=kn();t>=0&&Vn([t])}}},Gn=function(){Ln()},qn=function(e){if(hn){if(Rn(e),gn&&!Ze){var n=kn();ea(n)}Ze&&In()}},Bn=function(){hn&&(Fe=void 0,gn=!1,Fn())},Wn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,n=e.length;mn=Math.max(2,Math.ceil(Math.sqrt(n)));var t=new Float32Array(4*Math.pow(mn,2));return e.forEach((function(e,n){t[4*n]=e[0],t[4*n+1]=e[1],t[4*n+2]=e[2],t[4*n+3]=n%4>0||1===bn?e[3]:bn})),Qe.texture({data:t,shape:[mn,mn,4],type:"float"})},Yn=function(){ze=He/Ke,ke=m.a.fromScaling([],[1/ze,1,1]),Me=m.a.fromScaling([],[sn,1,1])},Hn=function(e){+e<=0||(sn=e)},Kn=function(e){if(e&&e.length){var n=[];try{e.forEach((function(e){if(!Array.isArray(e)||he(e)||be(e)){var t=we(e,!0),a=[].concat(Object(f.a)(t.slice(0,3)),[1]);n.push(t,a,a)}else for(var o=0;o<3;o++)n.push(we(e[o],!0));n.push(qe)}))}catch(t){console.error(t,"Invalid format. Please specify an array of colors or a nested array of accents per colors.")}Ye=n;try{Te=Wn()}catch(t){Ye=J,Te=Wn(),console.error("Invalid colors. Switching back to default colors.")}}},Un=function(e){!+e||+e<=0||(Ke=+e,We.height=Ke*window.devicePixelRatio)},Xn=function(e){!+e||+e<=0||(Ue=+e)},$n=function(e){!+e||+e<0||(Xe=+e)},Qn=function(e){!+e||+e<0||($e=+e)},Jn=function(e){!+e||+e<=0||(He=+e,We.width=He*window.devicePixelRatio)},Zn=function(e){switch(e){case"category":vn="category";break;case"value":vn="value";break;default:vn=null}},et=function(e){!+e||+e<=0||(bn=+e,Te=Wn())},nt=function(){return Be},tt=function(){return Te},at=function(){return mn},ot=function(){return Ve},it=function(){return Re},rt=function(){return Ue*window.devicePixelRatio},lt=function(){return 0},ct=function(){return Le},st=function(){return dn},ut=function(){return ke},ft=function(){return Ce.view},dt=function(){return Me},mt=function(){return Ce.scaling},vt=function(){return nn},pt=function(){return 1*("category"===vn)},ht=function(){return 1*("value"===vn)},bt=function(){return Ye.length/4-1},gt=function(){return 4},xt=function(){return jn.getTexture()},yt=function(){return jn.getAtlasSize()},wt=function(){return Ne},St=function(){return xn},Et=function(){return wn},jt=function(e,n,t){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return Qe({frag:_,vert:P,blend:{enable:!0,func:{srcRGB:"src alpha",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},depth:{enable:Et},attributes:{stateIndex:{buffer:t,size:1}},uniforms:{projection:ut,model:dt,view:ft,scaling:mt,pointSize:rt,pointSizeExtra:e,globalState:a,colorTex:tt,colorTexRes:at,stateTex:ct,stateTexRes:st,isColoredByCategory:pt,isColoredByValue:ht,maxColor:bt,numColorStates:gt,textureAtlas:xt,atlasSize:yt,bboxTex:wt,bboxTexRes:St,animateDepth:Et},count:n,primitive:"points"})},Ct=jt(lt,vt,ot),Ot=jt(lt,(function(){return 1}),(function(){return De}),2),_t=function(){var e=tn.length;jt((function(){return(Xe+2*$e)*window.devicePixelRatio}),(function(){return e}),it,1)(),jt((function(){return(Xe+$e)*window.devicePixelRatio}),(function(){return e}),it,3)(),jt((function(){return Xe}),(function(){return e}),it,1)()},Pt=Qe({frag:C,vert:O,attributes:{position:[0,1,0,0,1,0,0,1,1,1,1,0]},uniforms:{projection:ut,model:dt,view:ft,texture:nt},count:6}),zt=function(){if(Fe>=0){var e=Pe.points[Fe].slice(0,2),n=Object(l.a)(e,2),t=[n[0],n[1],0,1];m.a.multiply(Ee,ke,m.a.multiply(Ee,Ce.view,Me)),m.c.transformMat4(t,t,Ee),Ie.setPoints([-1,t[1],1,t[1]]),Ae.setPoints([t[0],1,t[0],-1]),Ie.draw(),Ae.draw(),jt((function(){return(Xe+2*$e)*window.devicePixelRatio}),(function(){return 1}),De,1)(),jt((function(){return(Xe+$e)*window.devicePixelRatio}),(function(){return 1}),De,3)()}},kt=function(e){for(var n=new Float32Array(e),t=0;t<e;++t)n[t]=t;return n},Mt=function(e){var n=e.length;dn=Math.max(2,Math.ceil(Math.sqrt(n)));for(var t=new Float32Array(4*Math.pow(dn,2)),a=0;a<n;++a)t[4*a]=e[a][0],t[4*a+1]=e[a][1],t[4*a+2]=e[a][2]||0,t[4*a+3]=e[a][3]||0;return Qe.texture({data:t,shape:[dn,dn,4],type:"float"})},It=function(e){var n=Math.max.apply(Math,Object(f.a)(Object.keys(e)))+1;xn=Math.max(2,Math.ceil(Math.sqrt(n)));for(var t=new Float32Array(4*Math.pow(xn,2)),a=0;a<n;a+=1)Object(E.a)(e,a)?(t[4*a]=e[a][0],t[4*a+1]=e[a][1],t[4*a+2]=e[a][2],t[4*a+3]=e[a][3]):(t[4*a]=0,t[4*a+1]=0,t[4*a+2]=0,t[4*a+3]=0);return Qe.texture({data:t,shape:[xn,xn,4],type:"float"})},At=function(e){var n=0,t=0;return e.forEach((function(e){n+=e[0],t+=e[1]})),[n/e.length,t/e.length]},Lt=function(e){var n=At(e),t=0;e.forEach((function(e){var a=Math.pow(n[0]-e[0],2)+Math.pow(n[1]-e[1],2);a>t&&(t=a)}));var a=Math.sqrt(t);return[n[0]-a,n[1]-a,n[0]+a,n[1]+a]},Vt=function(e){hn=!1,nn=e.length,Le=Mt(e),Ve({usage:"static",type:"float",data:kt(nn)}),Pe=new p.a(e,(function(e){return e[0]}),(function(e){return e[1]}),16);var n=Object(S.a)(e,2),t=Object(j.a)(n,(function(e,t){return Lt(n[t])}));Ne=It(t),hn=!0},Rt=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];hn&&(Qe.clear({color:[0,0,0,0],depth:1,stencil:0}),jn.clear(),pn=Ce.tick(),Be&&Pt(),jn.draw(e,yn,En,Sn),Ct(),Je||!un&&!n||zt(),Fe>=0&&Ot(),tn.length&&_t(),Oe.draw(),pn&&Se.publish("view",Ce.view))},Dt=Object(g.a)(Rt),Tt=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&Vt(e)},Ft=function(e){return function(){var n=e.apply(void 0,arguments);return Dt(),n}},Nt=function(e){e&&(qe=we(e,!0))},Gt=function(e){Be=e||null},qt=function(e){e&&(an=we(e,!0),Oe.setStyle({color:an}))},Bt=function(e){+e&&(on=+e,In=Object(b.a)(Mn,on))},Wt=function(e){+e&&(rn=+e)},Yt=function(e){null!==e&&(un=e)},Ht=function(e){e&&(fn=we(e,!0),Ie.setStyle({color:fn}),Ae.setStyle({color:fn}))},Kt=function(e){null!==e&&(yn=e)},Ut=function(e){null!==e&&(wn=e)},Xt=function(e){null!==e&&(Sn=e)},$t=function(e){null!==e&&(En=e)},Qt=function(){Qe.poll(),Ce.refresh()},Jt=function(e){return"background"===e?qe:"backgroundImage"===e?Be:"colorBy"===e?vn:"colors"===e?Ye:"lassoColor"===e?an:"showRecticle"===e?un:"recticleColor"===e?fn:"opacity"===e?bn:"pointOutlineWidth"===e?$e:"pointSize"===e?Ue:"pointSizeSelected"===e?Xe:"width"===e?He:"height"===e?Ke:"aspectRatio"===e?sn:"canvas"===e?We:"regl"===e?Qe:"version"===e?"0.7.5":void 0},Zt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.background,t=void 0===n?null:n,a=e.backgroundImage,o=void 0===a?Be:a,i=e.colorBy,r=void 0===i?vn:i,l=e.colors,c=void 0===l?null:l,s=e.opacity,u=void 0===s?null:s,f=e.lassoColor,d=void 0===f?null:f,m=e.lassoMinDelay,v=void 0===m?null:m,p=e.lassoMinDist,h=void 0===p?null:p,b=e.showRecticle,g=void 0===b?null:b,x=e.recticleColor,y=void 0===x?null:x,w=e.pointOutlineWidth,S=void 0===w?null:w,E=e.pointSize,j=void 0===E?null:E,C=e.pointSizeSelected,O=void 0===C?null:C,_=e.height,P=void 0===_?null:_,z=e.width,k=void 0===z?null:z,M=e.aspectRatio,I=void 0===M?null:M,A=e.animationMix,L=void 0===A?null:A,V=e.animateDepth,R=void 0===V?null:V,D=e.showPatterns,T=void 0===D?null:D,F=e.useColors,N=void 0===F?null:F;Nt(t),Gt(o),Zn(r),Kn(c),et(u),qt(d),Bt(v),Wt(h),Yt(g),Ht(y),Qn(S),Xn(j),$n(O),Un(P),Jn(k),Hn(I),Kt(L),Ut(R),Xt(T),$t(N),Yn(),Ce.refresh(),Qt()},ea=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n=!1;if(e>=0){n=!0;var t=e!==Fe;Fe=e,De.subdata([e]),t&&Se.publish("pointover",Fe)}else n=Fe,Fe=void 0,+n>=0&&Se.publish("pointout",n)},na=function(){ye?Ce.set(m.a.clone(ye)):Ce.lookAt(Object(f.a)(ie),fe,ve),Se.publish("view",Ce.view)},ta=function(e){switch(e.key){case"Escape":Ln()}},aa=function(){gn=!0},oa=function(){ea(),gn=!1},ia=function(){Ce=v(We),ye?Ce.set(m.a.clone(ye)):Ce.lookAt(Object(f.a)(ie),fe,ve)},ra=function(){},la=function(){Vt([])},ca=function(){Yn(),ia(),Oe=Object(x.a)(Qe,{color:an,width:3,is2d:!0}),Ie=Object(x.a)(Qe,{color:fn,width:1,is2d:!0}),Ae=Object(x.a)(Qe,{color:fn,width:1,is2d:!0}),We.addEventListener("wheel",ra),Ve=Qe.buffer(),Re=Qe.buffer(),De=Qe.buffer({usage:"dynamic",type:"float",length:X}),Te=Wn(),Zt({width:He,height:Ke}),window.addEventListener("keyup",ta,!1),window.addEventListener("blur",Bn,!1),window.addEventListener("mousedown",Tn,!1),window.addEventListener("mouseup",Fn,!1),window.addEventListener("mousemove",qn,!1),We.addEventListener("mouseenter",aa,!1),We.addEventListener("mouseleave",oa,!1),We.addEventListener("click",Nn,!1),We.addEventListener("dblclick",Gn,!1);var e=We.getContext("webgl")||We.getContext("experimental-webgl");Ge=new w.a(e),Qe.frame((function(e){var n=e.time;Ge.begin(),Rt(n),Ge.end(),Ge.nextFrame(Math.floor(1e3*n))}))},sa=function(){window.removeEventListener("keyup",ta,!1),window.removeEventListener("blur",Bn,!1),window.removeEventListener("mousedown",Tn,!1),window.removeEventListener("mouseup",Fn,!1),window.removeEventListener("mousemove",qn,!1),We.removeEventListener("mouseenter",aa,!1),We.removeEventListener("mouseleave",oa,!1),We.removeEventListener("click",Nn,!1),We.removeEventListener("dblclick",Gn,!1),We=void 0,Ce=void 0,Qe=void 0,Oe.destroy(),Se.clear()};return ca(We),{clear:Ft(la),deselect:Ln,destroy:sa,draw:Tt,get:Jt,hover:ea,refresh:Qt,reset:Ft(na),select:Vn,set:Zt,subscribe:Se.subscribe,unsubscribe:Se.unsubscribe,patternManager:jn}},Ee=t(432),je=t(57),Ce=!0,Oe=!0,_e=5,Pe=[0,1,0],ze=t(26),ke=t(49),Me=Object(ze.a)((function(e,n,t){return e(Object(A.a)({},n,t))}),100);function Ie(e,n,t){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=Object(a.useState)(n),r=Object(l.a)(i,2),c=r[0],s=r[1],u=function(n){Object(ke.a)(o)&&(n=o(n)),s(n),Me(t,e,n)};return[c,u]}function Ae(e){return"".concat(Math.round(100*e),"%")}function Le(e){var n=e.scatterplot,t=Ie("pointSize",_e,n&&n.set),i=Object(l.a)(t,2),r=i[0],c=i[1],s=Ie("animationMix",Pe,n&&n.set),f=Object(l.a)(s,2),d=f[0],m=f[1],v=Object(a.useState)(!1),p=Object(l.a)(v,2),h=p[0],b=p[1],g=Object(u.d)((function(e){return e.isDarkTheme})),x=Object(u.c)();return o.a.createElement("div",null,o.a.createElement(Ee.d,null),o.a.createElement(Ee.e,null,o.a.createElement(Ee.h,{defaultChecked:g,label:"Dark theme",onChange:function(){return x({type:"toggle theme"})},innerLabel:"No",innerLabelChecked:"Yes",alignIndicator:je.a.RIGHT})),o.a.createElement(Ee.e,null,o.a.createElement(Ee.h,{defaultChecked:Oe,label:"Use colors",onChange:function(e){return n.set({useColors:e.target.checked})},innerLabel:"No",innerLabelChecked:"Yes",alignIndicator:je.a.RIGHT})),o.a.createElement(Ee.e,null,o.a.createElement(Ee.h,{defaultChecked:Ce,label:"Show patterns",onChange:function(e){return n.set({showPatterns:e.target.checked})},innerLabel:"No",innerLabelChecked:"Yes",alignIndicator:je.a.RIGHT})),o.a.createElement(Ee.e,{label:"Point size",inline:!0},o.a.createElement(Ee.g,{stepSize:.01,min:0,max:10,labelStepSize:10,labelPrecision:1,value:r,onChange:c,fill:!0})),o.a.createElement(Ee.d,null),o.a.createElement("span",{className:"option-title bp3-text-muted"},"Animation mix"),o.a.createElement(Ee.e,{label:"Saturation",inline:!0},o.a.createElement(Ee.g,{stepSize:.01,min:0,max:1,labelStepSize:1,labelRenderer:Ae,value:d[0],onChange:function(e){return m([e,d[1],d[2]])},fill:!0})),o.a.createElement(Ee.e,{label:"Value",inline:!0},o.a.createElement(Ee.g,{stepSize:.01,min:0,max:1,labelStepSize:1,labelRenderer:Ae,value:d[1],onChange:function(e){return m([d[0],e,d[2]])},fill:!0})),o.a.createElement(Ee.e,{label:"Alpha",inline:!0},o.a.createElement(Ee.g,{stepSize:.01,min:0,max:1,labelStepSize:1,labelRenderer:Ae,value:d[2],onChange:function(e){return m([d[0],d[1],e])},fill:!0,disabled:h})),o.a.createElement(Ee.e,null,o.a.createElement(Ee.h,{checked:h,label:"Depth (experimental)",onChange:function(e){b(e.target.checked),n&&n.set({animateDepth:e.target.checked}),e.target.checked?m([0,0,1]):m([0,1,0])},innerLabel:"No",innerLabelChecked:"Yes",alignIndicator:je.a.RIGHT})),o.a.createElement(Ee.d,null),o.a.createElement("p",{style:{textAlign:"center"}},o.a.createElement("b",null,"Note: "),o.a.createElement("span",{className:"bp3-text-muted"},"Each slider has a 100ms debounce to avoid clogging the system.")))}var Ve=t(85),Re=t(82),De=t(39);function Te(e,n,t,a,o){var i,r,l=2*Math.PI;do{i=Math.random(),r=Math.random()}while(i<=Number.EPSILON);var c=l*r,s=Math.sqrt(-2*Math.log(i)),u=s*Math.cos(c),f=s*Math.sin(c),d=Math.cos(a),m=Math.sin(a),v=d*m*(o-1);return[(u=(o*Math.pow(d,2)+Math.pow(m,2))*u+v*f)*t+e,(f=v*u+(Math.pow(d,2)+o*Math.pow(m,2))*f)*t+n]}function Fe(e){var n=e.clusterKey,t=e.category,a=e.setIsOpen,i=e.isOpen,r=Object(u.d)((function(e){return e.categoryColors}),u.b);return o.a.createElement(Ee.a,{className:"cluster-button",minimal:!0,fill:!0,active:i,onClick:function(){return a(!i)}},o.a.createElement("div",{className:"jsx-3670062821 cluster-header"},o.a.createElement("div",{className:"jsx-3670062821 cluster-title"},o.a.createElement("b",{className:"jsx-3670062821"},"Cluster: ")," #",n),o.a.createElement("div",{className:"jsx-3670062821 cluster-category"},o.a.createElement("div",{style:{backgroundColor:r[t]},className:"jsx-3670062821 cluster-category__color-box"})),o.a.createElement(s.a,{id:"1811696610"},[".cluster-button .bp3-button-text{width:100%;}"]),o.a.createElement(s.a,{id:"1213808302"},[".cluster-header.jsx-3670062821{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;}",".cluster-title.jsx-3670062821{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}",".cluster-category__color-box.jsx-3670062821{float:left;width:20px;height:20px;margin:5px;border:1px solid rgba(0,0,0,.2);}"])))}var Ne=Object(ze.a)((function(e,n){return e({x:n})}),500),Ge=Object(ze.a)((function(e,n){return e({y:n})}),500),qe=Object(ze.a)((function(e,n){return e({sigma:n})}),500),Be=Object(ze.a)((function(e,n){return e({angle:n})}),500),We=Object(ze.a)((function(e,n){return e({amplitude:n})}),500),Ye=Object(ze.a)((function(e,n){return e({n:n})}),500),He=Object(ze.a)((function(e,n){return e({category:n})}),500);function Ke(e){var n=e.clusterKey,t=e.cluster,i=e.setCluster,r=e.removeCluster,c=Object(a.useState)(t.x),u=Object(l.a)(c,2),f=u[0],d=u[1],m=Object(a.useState)(t.y),v=Object(l.a)(m,2),p=v[0],h=v[1],b=Object(a.useState)(t.sigma),g=Object(l.a)(b,2),x=g[0],y=g[1],w=Object(a.useState)(t.angle),S=Object(l.a)(w,2),E=S[0],j=S[1],C=Object(a.useState)(t.amplitude),O=Object(l.a)(C,2),_=O[0],P=O[1],z=Object(a.useState)(t.n),k=Object(l.a)(z,2),M=k[0],I=k[1],A=Object(a.useState)(t.category),L=Object(l.a)(A,2),V=L[0],R=L[1],D=Object(a.useState)(!1),T=Object(l.a)(D,2),F=T[0],N=T[1];return o.a.createElement("div",{className:"jsx-2347825890"},o.a.createElement(Fe,{clusterKey:n,category:V,setIsOpen:N,isOpen:F}),o.a.createElement(Ee.c,{isOpen:F},o.a.createElement(Ee.e,{label:"X-pos",inline:!0},o.a.createElement(Ee.g,{stepSize:.01,min:-1,max:1,labelPrecision:1,labelStepSize:2,value:f,onChange:function(e){d(e),Ne(i,e)},fill:!0})),o.a.createElement(Ee.e,{label:"Y-pos",inline:!0},o.a.createElement(Ee.g,{stepSize:.01,min:-1,max:1,labelPrecision:1,labelStepSize:2,value:p,onChange:function(e){h(e),Ge(i,e)},fill:!0})),o.a.createElement(Ee.e,{label:"Std. Dev.",inline:!0},o.a.createElement(Ee.g,{stepSize:.01,min:0,max:.8,labelPrecision:1,labelStepSize:.8,value:x,onChange:function(e){y(e),qe(i,e)},fill:!0})),o.a.createElement(Ee.e,{label:"Angle",inline:!0},o.a.createElement(Ee.g,{stepSize:.03,min:0,max:Math.PI,labelPrecision:1,labelStepSize:Math.PI,value:E,onChange:function(e){j(e),Be(i,e)},fill:!0})),o.a.createElement(Ee.e,{label:"Amplitude",inline:!0},o.a.createElement(Ee.g,{stepSize:.03,min:0,max:3,labelPrecision:1,labelStepSize:3,value:_,onChange:function(e){P(e),We(i,e)},fill:!0})),o.a.createElement(Ee.e,{label:"Points",inline:!0},o.a.createElement(Ee.g,{stepSize:10,min:1,max:1e4,labelStepSize:9999,value:M,onChange:function(e){I(e),Ye(i,e)},fill:!0})),o.a.createElement(Ee.e,{label:"Category",inline:!0},o.a.createElement(Ee.g,{stepSize:1,min:0,max:9,labelStepSize:9,value:V,onChange:function(e){R(e),He(i,e)},fill:!0})),o.a.createElement("div",{className:"jsx-2347825890 cluster-remove"},o.a.createElement(Ee.a,{intent:De.a.DANGER,onClick:function(){return r(n)}},"Remove this cluster")),o.a.createElement(Ee.d,null)),o.a.createElement(s.a,{id:"2347825890"},[".cluster-remove.jsx-2347825890{margin:10px 0;text-align:center;}"]))}var Ue=function(e){if(e>9)throw new Error("There are at most 10 categories!");var n=Math.random()/3+.1,t=1-2*n-.2;return{x:Math.random()*t*2-t,y:Math.random()*t*2-t,sigma:n,angle:Math.random()*Math.PI,amplitude:Math.random(),n:100,category:e}},Xe=function(){var e=3;return function(){return e++}}();function $e(e){var n=e.scatterplot,t=Object(a.useState)({1:Ue(0),2:Ue(1)}),i=Object(l.a)(t,2),r=i[0],c=i[1],d=Object(u.c)();Object(a.useEffect)((function(){null!==n&&(n.draw(Object.keys(r).map((function(e){return function(e){for(var n=e.x,t=void 0===n?0:n,a=e.y,o=void 0===a?0:a,i=e.sigma,r=e.angle,l=void 0===r?0:r,c=e.amplitude,s=void 0===c?2:c,u=e.n,d=e.category,m=[],v=0;v<u;++v)m.push([].concat(Object(f.a)(Te(t,o,i,l,s)),[d,0]));return m}(r[e])})).reduce((function(e,n){return e.concat(n)}),[])),d({type:"set max categories",value:Math.max.apply(Math,Object(f.a)(Object.keys(r).map((function(e){return r[e].category}))))+1}))}),[n,r]);var m=function(e){return function(n){c((function(t){return Object(z.a)({},t,Object(A.a)({},e,Object(z.a)({},t[e],{},n)))}))}},v=function(e){return c((function(n){n[e];return Object(Ve.a)(n,[e].map(Re.a))}))},p=Object.keys(r).map((function(e){return o.a.createElement(Ke,{key:e,clusterKey:e,cluster:r[e],setCluster:m(e),removeCluster:v})}));return o.a.createElement("div",{className:"jsx-4110324435"},o.a.createElement(Ee.d,null),o.a.createElement("p",{style:{textAlign:"center"},className:"jsx-4110324435 bp3-text-muted"},"Click on a cluster to show/hide options."),p,o.a.createElement("div",{className:"jsx-4110324435 data-add-new"},o.a.createElement(Ee.a,{intent:De.a.PRIMARY,onClick:function(){return e=function(){var e=new Set;Object.keys(r).forEach((function(n){return e.add(r[n].category)}));for(var n=0;n<10;++n)if(!e.has(n))return n;return 0}(),c((function(n){return Object(z.a)({},n,Object(A.a)({},Xe(),Ue(e)))}));var e}},"Add cluster")),o.a.createElement(s.a,{id:"4110324435"},[".data-add-new.jsx-4110324435{margin:10px 0;text-align:center;}"]))}var Qe=t(112),Je=t.n(Qe);function Ze(e){var n=e.patternKey,t=e.category,a=e.setIsOpen,i=e.isOpen,r=Object(u.d)((function(e){return e.categoryColors}),u.b);return o.a.createElement(Ee.a,{className:"pattern-button",minimal:!0,fill:!0,active:i,onClick:function(){return a(!i)}},o.a.createElement("div",{className:"jsx-542388820 pattern-header"},o.a.createElement("div",{className:"jsx-542388820 pattern-title"},o.a.createElement("b",{className:"jsx-542388820"},"Pattern: ")," #",n),o.a.createElement("div",{className:"jsx-542388820 pattern-category"},o.a.createElement("div",{style:{backgroundColor:r[t]},className:"jsx-542388820 pattern-category__color-box"})),o.a.createElement(s.a,{id:"927492146"},[".pattern-button .bp3-button-text{width:100%;}"]),o.a.createElement(s.a,{id:"3486257967"},[".pattern-header.jsx-542388820{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;}",".pattern-title.jsx-542388820{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}",".pattern-category__color-box.jsx-542388820{float:left;width:20px;height:20px;margin:5px;border:1px solid rgba(0,0,0,.2);}"])))}var en=t(78),nn=["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999","#0fc"];function tn(e,n){var t=Object(u.c)(),o=Object(u.d)((function(e){return e.categoryColors}),u.b),i=Object(a.useState)(o[e.category]),r=Object(l.a)(i,2),c=r[0],s=r[1];return[c,function(a){n({hsvColor:[a.hsv.h/360,a.hsv.s,a.hsv.v]}),t(function(e,n){return{type:"update category color",category:e,color:n}}(e.category,a.hex)),s(a.hex)}]}function an(e){return"".concat(Math.round(100*e),"%")}function on(e){return"".concat(e.toPrecision(2),"s")}function rn(e){var n=e.pattern,t=e.setPattern,a=Ie("a",n.a,t),i=Object(l.a)(a,2),r=i[0],c=i[1],s=Ie("c1",n.c1,t),u=Object(l.a)(s,2),f=u[0],d=u[1],m=Ie("c2",n.c2,t),v=Object(l.a)(m,2),p=v[0],h=v[1],b=Ie("minValue",n.minValue,t),g=Object(l.a)(b,2),x=g[0],y=g[1],w=Ie("cyclesPerSecond",n.cyclesPerSecond,t),S=Object(l.a)(w,2),E=S[0],j=S[1],C=Ie("wavesPerCycle",n.wavesPerCycle,t),O=Object(l.a)(C,2),_=O[0],P=O[1],z=tn(n,t),k=Object(l.a)(z,2),M=k[0],I=k[1],A=Ie("hueVariation",n.hueVariation,t),L=Object(l.a)(A,2),V=L[0],R=L[1],D=Ie("hueVariationPeriod",n.hueVariationPeriod,t),T=Object(l.a)(D,2),F=T[0],N=T[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"option-title bp3-text-muted"},"Wave Parameters"),o.a.createElement(Ee.e,null,o.a.createElement(Ee.h,{defaultChecked:1===n.direction,label:"Direction",onChange:function(e){return t({direction:e.target.checked?1:-1})},innerLabel:"In",innerLabelChecked:"Out",alignIndicator:je.a.RIGHT})),o.a.createElement(Ee.e,null,o.a.createElement(Ee.h,{defaultChecked:1===n.invert,label:"Invert",onChange:function(e){return t({invert:e.target.checked?1:0})},innerLabel:"No",innerLabelChecked:"Yes",alignIndicator:je.a.RIGHT})),o.a.createElement(Ee.e,{label:"a",inline:!0},o.a.createElement(Ee.g,{stepSize:.01,min:0,max:1,labelPrecision:2,labelStepSize:1,value:r,onChange:c,fill:!0})),o.a.createElement(Ee.e,{label:"c1",inline:!0},o.a.createElement(Ee.g,{stepSize:.01,min:0,max:1,labelPrecision:2,labelStepSize:1,value:f,onChange:d,fill:!0})),o.a.createElement(Ee.e,{label:"c2",inline:!0},o.a.createElement(Ee.g,{stepSize:.01,min:0,max:1,labelPrecision:2,labelStepSize:1,value:p,onChange:h,fill:!0})),o.a.createElement(Ee.e,{label:"Min value",inline:!0},o.a.createElement(Ee.g,{stepSize:.01,min:0,max:1,labelStepSize:1,labelRenderer:an,value:x,onChange:y,fill:!0})),o.a.createElement(Ee.e,{label:"Cycles/s",inline:!0},o.a.createElement(Ee.g,{stepSize:.01,min:0,max:5,labelPrecision:1,labelStepSize:5,value:E,onChange:j,fill:!0})),o.a.createElement(Ee.e,{label:"Waves/cycle",inline:!0},o.a.createElement(Ee.g,{stepSize:.01,min:0,max:5,labelPrecision:1,labelStepSize:5,value:_,onChange:P,fill:!0})),o.a.createElement("span",{className:"option-title bp3-text-muted"},"Color Parameters"),o.a.createElement(Ee.e,{label:"Color",inline:!0},o.a.createElement(en.CirclePicker,{color:M,colors:nn,onChange:I,circleSize:14,circleSpacing:1,width:150})),o.a.createElement(Ee.e,{label:"Hue amp.",inline:!0},o.a.createElement(Ee.g,{stepSize:.005,min:0,max:.2,labelPrecision:2,labelStepSize:.2,labelRenderer:an,value:V,onChange:R,fill:!0})),o.a.createElement(Ee.e,{label:"Hue period",inline:!0},o.a.createElement(Ee.g,{stepSize:.01,min:0,max:5,labelStepSize:5,labelRenderer:on,value:F,onChange:N,fill:!0})))}function ln(e){return"".concat(Math.round(100*e),"%")}function cn(e){return"".concat(e.toPrecision(2),"s")}function sn(e){var n=e.pattern,t=e.setPattern,a=Ie("gamma1",n.gamma1,t),i=Object(l.a)(a,2),r=i[0],c=i[1],s=Ie("gamma2",n.gamma2,t),u=Object(l.a)(s,2),f=u[0],d=u[1],m=Ie("maxValue",n.maxValue,t),v=Object(l.a)(m,2),p=v[0],h=v[1],b=Ie("minValue",n.minValue,t),g=Object(l.a)(b,2),x=g[0],y=g[1],w=Ie("cyclesPerSecond",n.cyclesPerSecond,t),S=Object(l.a)(w,2),E=S[0],j=S[1],C=Ie("nSpokes",n.nSpokes,t),O=Object(l.a)(C,2),_=O[0],P=O[1],z=tn(n,t),k=Object(l.a)(z,2),M=k[0],I=k[1],A=Ie("hueVariation",n.hueVariation,t),L=Object(l.a)(A,2),V=L[0],R=L[1],D=Ie("hueVariationPeriod",n.hueVariationPeriod,t),T=Object(l.a)(D,2),F=T[0],N=T[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"option-title bp3-text-muted"},"Rotation Parameters"),o.a.createElement(Ee.e,null,o.a.createElement(Ee.h,{defaultChecked:1===n.direction,label:"Direction",onChange:function(e){return t({direction:e.target.checked?1:-1})},innerLabel:"Counter-clockwise",innerLabelChecked:"Clockwise",alignIndicator:je.a.RIGHT})),o.a.createElement(Ee.e,null,o.a.createElement(Ee.h,{defaultChecked:1===n.invert,label:"Invert",onChange:function(e){return t({invert:e.target.checked?1:0})},innerLabel:"No",innerLabelChecked:"Yes",alignIndicator:je.a.RIGHT})),o.a.createElement(Ee.e,{label:"gamma1",inline:!0},o.a.createElement(Ee.g,{stepSize:.01,min:0,max:25,labelPrecision:1,labelStepSize:25,value:r,onChange:c,fill:!0})),o.a.createElement(Ee.e,{label:"gamma2",inline:!0},o.a.createElement(Ee.g,{stepSize:.01,min:0,max:25,labelPrecision:1,labelStepSize:25,value:f,onChange:d,fill:!0})),o.a.createElement(Ee.e,{label:"Max value",inline:!0},o.a.createElement(Ee.g,{stepSize:.01,min:0,max:1,labelStepSize:1,value:p,onChange:h,labelRenderer:ln,fill:!0})),o.a.createElement(Ee.e,{label:"Min value",inline:!0},o.a.createElement(Ee.g,{stepSize:.01,min:0,max:1,labelStepSize:1,value:x,onChange:y,labelRenderer:ln,fill:!0})),o.a.createElement(Ee.e,{label:"Cycles/s",inline:!0},o.a.createElement(Ee.g,{stepSize:.01,min:0,max:5,labelPrecision:1,labelStepSize:5,value:E,onChange:j,fill:!0})),o.a.createElement(Ee.e,{label:'"Spokes"',inline:!0},o.a.createElement(Ee.g,{stepSize:1,min:1,max:10,labelStepSize:9,value:_,onChange:P,fill:!0})),o.a.createElement("span",{className:"option-title bp3-text-muted"},"Color Parameters"),o.a.createElement(Ee.e,{label:"Color",inline:!0},o.a.createElement(en.CirclePicker,{color:M,colors:nn,onChange:I,circleSize:14,circleSpacing:1,width:150})),o.a.createElement(Ee.e,{label:"Hue amp.",inline:!0},o.a.createElement(Ee.g,{stepSize:.005,min:0,max:.2,labelPrecision:2,labelStepSize:.2,labelRenderer:ln,value:V,onChange:R,fill:!0})),o.a.createElement(Ee.e,{label:"Hue period",inline:!0},o.a.createElement(Ee.g,{stepSize:.01,min:0,max:5,labelStepSize:5,labelRenderer:cn,value:F,onChange:N,fill:!0})))}function un(e){var n,t=e.patternKey,i=e.pattern,r=e.setPattern,c=Object(a.useState)(i.type),s=Object(l.a)(c,2),u=s[0],f=s[1],d=Object(a.useState)(!1),m=Object(l.a)(d,2),v=m[0],p=m[1];return u===F?n=o.a.createElement(rn,{pattern:i,setPattern:r}):u===N&&(n=o.a.createElement(sn,{pattern:i,setPattern:r})),o.a.createElement("div",null,o.a.createElement(Ze,{patternKey:t,category:i.category,setIsOpen:p,isOpen:v}),o.a.createElement(Ee.c,{isOpen:v},o.a.createElement(Ee.e,{label:"Type",inline:!0},o.a.createElement(Ee.f,{options:[{label:"Radar",value:N},{label:"Pulse",value:F}],onChange:function(e){var n=parseInt(e.target.value,10);r(Object(z.a)({type:n},G[n])),f(n)},value:u,fill:!0})),n,o.a.createElement(Ee.d,null)))}var fn=function(){var e=3;return function(){return e++}}(),dn=function(e,n){return Object(z.a)({type:F,category:e},G[F],{hsvColor:n})};function mn(e){var n=Je()(e).toHsv();return[n.h/360,n.s,n.v]}function vn(e){var n,t,i=e.scatterplot,r=Object(u.d)((function(e){return e.categoryColors}),u.b),c=Object(a.useState)({1:(n=0,t=mn(r[0]),Object(z.a)({type:N,category:n},G[N],{hsvColor:t})),2:dn(1,mn(r[1]))}),f=Object(l.a)(c,2),d=f[0],m=f[1],v=Object(u.d)((function(e){return e.maxCategories}));Object(a.useEffect)((function(){null!==i&&i.patternManager.setAll(Object.keys(d).map((function(e){return d[e]})))}),[i,d]);var p=function(e){return function(n){m((function(t){return Object(z.a)({},t,Object(A.a)({},e,Object(z.a)({},t[e],{},n)))}))}};Object(a.useEffect)((function(){if(v>0){var e=new Set(new Array(v).fill().map((function(e,n){return n})));Object.keys(d).forEach((function(n){var t=d[n];t.category>=v?function(e){m((function(n){n[e];return Object(Ve.a)(n,[e].map(Re.a))}))}(n):e.delete(t.category)})),e.forEach((function(e){return function(e){return m((function(n){return Object(z.a)({},n,Object(A.a)({},fn(),dn(e)))}))}(e)}))}}),[v]);var h=Object.keys(d).map((function(e){return o.a.createElement(un,{key:e,patternKey:e,pattern:d[e],setPattern:p(e)})}));return o.a.createElement("div",{className:"jsx-4110324435"},o.a.createElement(Ee.d,null),o.a.createElement("p",{style:{textAlign:"center"},className:"jsx-4110324435 bp3-text-muted"},"Click on a cluster to show/hide options."),h,o.a.createElement(s.a,{id:"4110324435"},[".data-add-new.jsx-4110324435{margin:10px 0;text-align:center;}"]))}function pn(e){var n=e.scatterplot,t=Object(u.d)((function(e){return e.isDarkTheme}));return o.a.createElement(Ee.b,{className:"card-sidebar ".concat(t?"bp3-dark":""),elevation:2},o.a.createElement(Ee.j,{id:"sidebar-tabs"},o.a.createElement(Ee.i,{title:"Scatterplot",id:"scatterplot-options-tab",panel:o.a.createElement(Le,{scatterplot:n})}),o.a.createElement(Ee.i,{title:"Data",id:"data-options-tab",panel:o.a.createElement($e,{scatterplot:n})}),o.a.createElement(Ee.i,{title:"Patterns",id:"patterns-options-tab",panel:o.a.createElement(vn,{scatterplot:n})})),o.a.createElement(s.a,{id:"2537287085"},[".card-sidebar{width:300px;border-radius:0;overflow-y:scroll;overflow-x:hidden;}",".bp3-tab-list{-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}"]))}function hn(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(s.a,{id:"1848306565"},["html,body,#root{margin:0;padding:0;width:100%;height:100%;}",".bp3-collapse-body{padding:10px 0;}",".bp3-form-group{margin-bottom:0px;}",".bp3-form-group.bp3-inline label.bp3-label{margin-right:20px;min-width:70px;}",".circle-picker{margin-top:5px;}",".option-title{font-weight:600;text-transform:uppercase;text-align:center;display:block;margin:10px 0 5px 0;}"]))}var bn=function(){var e=Object(a.useState)(null),n=Object(l.a)(e,2),t=n[0],i=n[1],r=Object(u.d)((function(e){return e.isDarkTheme})),c=Object(u.d)((function(e){return e.categoryColors}),u.b),f=Object(a.useCallback)((function(e){!function(e,n,t){var a=e.getBoundingClientRect(),o=a.width,i=a.height,r=Se({canvas:e,width:o,height:i,lassoMinDelay:10,lassoMinDist:2,pointSize:_e,showRecticle:!0,recticleColor:[1,1,.878431373,.33]});window.addEventListener("resize",(function(){var n=e.getBoundingClientRect();o=n.width,i=n.height,r.set({width:o,height:i})})),r.set({colorBy:"category",colors:t}),n(r)}(e,i,c)}),[i]),d="#000000";return o.a.createElement("div",{className:s.a.dynamic([["773189250",[r?d:"#ffffff"]]])+" App"},o.a.createElement(hn,null),o.a.createElement("div",{className:s.a.dynamic([["773189250",[r?d:"#ffffff"]]])+" content"},o.a.createElement("div",{className:s.a.dynamic([["773189250",[r?d:"#ffffff"]]])+" canvas-wrapper"},o.a.createElement("canvas",{ref:f,className:s.a.dynamic([["773189250",[r?d:"#ffffff"]]])+" canvas"}))),o.a.createElement(pn,{scatterplot:t}),o.a.createElement(s.a,{id:"773189250",dynamic:[r?d:"#ffffff"]},[".App.__jsx-style-dynamic-selector{background-color:".concat(r?d:"#ffffff",";width:100%;height:100%;position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}"),".content.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;height:100%;position:relative;}",".canvas-wrapper.__jsx-style-dynamic-selector{position:absolute;top:0;right:0;bottom:0;left:0;}",".canvas.__jsx-style-dynamic-selector{position:absolute;width:100%;height:100%;}"]))},gn=t(47);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var xn=Object(gn.b)({categoryColors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn,n=arguments.length>1?arguments[1]:void 0;if("update category color"===n.type){var t=Object(f.a)(e);return t[n.category]=n.color,t}return e},isDarkTheme:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;return"toggle theme"===n.type?!e:e},maxCategories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return"set max categories"===n.type?n.value:e}}),yn=Object(gn.c)(xn);r.a.render(o.a.createElement(u.a,{store:yn},o.a.createElement(bn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[227,1,2]]]);
//# sourceMappingURL=main.e8f5b81b.chunk.js.map